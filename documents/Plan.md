# План автоматизации тестирования сервиса 

### Виды и уровни тестирования
* Модульное тестирование формы оплаты
* Функциональное тестирование формы оплаты
* Интеграционное тестирование
* Тестирование вебинтерфейсов

### Данные для тестирования
Валидные данные
* номер карты: 4444 4444 4444 4441
* месяц - 10
* год - 22
* владелец - IVANOV PETR
* cvc - 111

Невалидные данные
* номер карты: 4444 4444 4444 4442
* месяц - 14
* год - 20
* владелец - Bla#*?%732
* cvc - 000

### Сценарии тестирования

**Позитивные сценарии:**

Вариант 1 "Успешная покупка тура по карте при вводе валидных данных"
1. Зайти на страницу покупки 
2. Нажать кнопку "купить"
3. Ввести валидные данные плательщика
4. Нажать кнопку "продолжить"

Ожидаемый результат: Оплата прошла успешно, банк одобрил операцию.
Появилось уведомление о успешной оплате с текстом "Успешно! Операция одобрена банком"
В БД появилась запись со статусом APPROVED


Вариант 2 "Успешная покупка тура в кредит при вводе валидных данных"
1. Зайти на страницу покупки
2. Нажать кнопку "купить в кредит"
3. Ввести валидные данные плательщика
4. Нажать кнопку "продолжить"

Ожидаемый результат: Оплата прошла успешно, банк одобрил операцию.
Появилось уведомление о успешной оплате с текстом "Успешно! Операция одобрена банком"
В БД появилась запись со статусом APPROVED

**Негативные сценарии:**

Вариант 1 "Проверка корректности введенных данных плательщика при покупке через карту"

1. Зайти на страницу покупки
2. Нажать кнопку "купить"
3. Ввести невалидные данные
4. Нажать кнопку "продолжить"

Ожидаемый результат: Оплата отклонена, банк не одобрил операцию.
Появилось уведомление с текстом "Ошибка! Банк отказал в проведении операции".
В БД появилась запись со статусом DECLINED

Вариант 2 "Проверка корректности введенных данных плательщика при покупке в кредит"

1. Зайти на страницу покупки
2. Нажать кнопку "купить в кредит"
3. Ввести невалидные данные
4. Нажать кнопку "продолжить"

Ожидаемый результат: Оплата отклонена, банк не одобрил операцию.
Появилось уведомление с текстом "Ошибка! Банк отказал в проведении операции".
В БД появилась запись со статусом DECLINED

Вариант 3 "Ввод неполных данных во все поля при покупке по карте"
1. Зайти на страницу покупки
2. Нажать кнопку "купить"
3. Ввести номер карты: 4444 4444 4444 444
4. Ввести месяц: 1
5. Ввести год: 2
6. Ввести владельца: Ivan
7. Ввести cvc: 12
8. Нажать кнопку: "продолжить"

Ожидаемый результат: Поля подсчечиваются красным, кнопка "продолжить" не кликабельна, появляется подсказка, что не все поля заполнены
Запись в БД не появляется

Вариант 4 "Ввод неполных данных во все поля при покупке в кредит"
1. Зайти на страницу покупки
2. Нажать кнопку "купить в кредит"
3. Ввести номер карты: 4444 4444 4444 444
4. Ввести месяц: 1
5. Ввести год: 2
6. Ввести владельца: Ivan
7. Ввести cvc: 12 
8. Нажать кнопку "продолжить"

Ожидаемый результат: Поля подсчечиваются красным, кнопка "продолжить" не кликабельна, появляется подсказка, что не все поля заполнены
Запись в БД не появляется

Вариант 5 "Проверка поля номер карты"

1. Ввести одинаковые цифры
2. Ввести нули
3. Ввести 4 цифры
4. Ввести 17 цифр
5. Ввести текст в поле

Ожидаемый результат: 
1. Данные не проходят проверку, кнопка "продолжить" не кликабельна, система выдает ошибку, что данных карты не существует, запись в БД не появляется
2. Данные не проходят проверку, кнопка "продолжить" не кликабельна, система выдает ошибку, что данные карты введены некорректно, запись в БД не появляется
3. Кнопка "продолжить" не кликабельна, система подсвечивает поле и дает подсказку, что данные введены не полностью, запись в БД не появляется
4. Поле не дает ввести 17 цифр, максимальное количество допустимых символов 16, запись в БД не появляется
5. Поле не дает ввести текст, возможен только ввод цифр, запись в БД не появляется

Вариант 6 "Проверка поля владелец"
1. Ввести 1 букву
2. Ввести невалидного владельца
3. Ввести 20 букв без пробела
4. Ввести только фамилию на английском
5. Ввести русские буквы 
6. Ввести цифры
7. Ввести строчные буквы
8. Ввести ФИ слитно

Ожидаемый результат: 
1. Кнопка "продолжить" не кликабельна, система подсвечивает поле и дает подсказку, что данные введены не полностью, запись в БД не появляется
2. Данные не проходят проверку, кнопка "продолжить" не кликабельна, система выдает ошибку, что данные введены некорректно, запись в БД не появляетс
3. Данные не проходят проверку, кнопка "продолжить" не кликабельна, система выдает ошибку, что данные введены некорректно, запись в БД не появляется
4. Кнопка "продолжить" не кликабельна, система подсвечивает поле и дает подсказку, что данные введены не полностью, запись в БД не появляется
5. Кнопка "продолжить" не кликабельна, система подсвечивает поле и дает подсказку, что данные введены не полностью, запись в БД не появляется
6. Поле не дает ввести русские буквы, ввод возможен только на английском, запись в БД не появляется
7. Поле не дает ввести цифры, возможен только ввод букв, запись в БД не появляется
8. Поле конвертирует буквы в прописные автоматически, запись в БД не появляется
9. Данные не проходят проверку, кнопка "продолжить" не кликабельна, система выдает ошибку, что данные введены некорректно, запись в БД не появляется
10. Данные не проходят проверку, кнопка "продолжить" не кликабельна, система выдает ошибку, что данные введены некорректно, запись в БД не появляется

Вариант 7 "Проверка поля месяц"
1. Ввести невалидный месяц
2. Ввести буквы
3. Ввести 3 цифры 
4. Ввести нули

Ожидаемый результат: 
1. Кнопка "продолжить" не кликабельна, система подсвечивает поле и дает подсказку, что данные введены некорректно, запись в БД не появляется
2. Поле не дает ввести буквы, возможен только ввод цифр, запись в БД не появляется
3. Кнопка "продолжить" не кликабельна, система подсвечивае, т поле и дает подсказку, что данные введены не полностью, запись в БД не появляется
4. Поле не дает ввести больше двух цифр, запись в БД не появляется
5. Кнопка "продолжить" не кликабельна, система подсвечивает поле и дает подсказку, что данные введены некорректно, запись в БД не появляется

Вариант 8 "Проверка поля год"
1. Ввести невалидный год
2. Ввести буквы
3. Ввести 3 цифры
4. Ввести нули

Ожидаемый результат:
1. Кнопка "продолжить" не кликабельна, система подсвечивает поле и дает подсказку, что данные введены некорректно, запись в БД не появляется
2. Поле не дает ввести буквы, возможен только ввод цифр, запись в БД не появляется
3. Кнопка "продолжить" не кликабельна, система подсвечивает поле и дает подсказку, что данные введены не полностью, запись в БД не появляется
4. Поле не дает ввести больше двух цифр, запись в БД не появляется
5. Кнопка "продолжить" не кликабельна, система подсвечивает поле и дает подсказку, что данные введены некорректно, запись в БД не появляется


Вариант 9 "Проверка поля cvv"
1. Ввести невалидный cvv
2. Ввести буквы
3. Ввести 4 цифры
4. Ввести нули

Ожидаемый результат:
1. Кнопка "продолжить" не кликабельна, система подсвечивает поле и дает подсказку, что данные введены некорректно, запись в БД не появляется
2. Поле не дает ввести буквы, возможен только ввод цифр, запись в БД не появляется
3. Поле не дает ввести больше четырех цифр, запись в БД не появляется
4. Кнопка "продолжить" не кликабельна, система подсвечивает поле и дает подсказку, что данные введены некорректно, запись в БД не появляется

Вариант 10 "Оплата по карте при наличии одного незаполненного поля"

предусловия:
* после каждого шага нажать кнопку "продолжить"

Шаги:
1. Ввести все данные данные кроме номера карты
2. Ввести все данные кроме владельца
3. Ввести все данные кроме года
4. Ввести все данные кроме месяца
5. Ввести все данные кроме cvv

Ожидаемый результат: кнопка "продолжить" не кликабельна после каждого шага, система подсвечивает пустое поле красным и выдает подсказку "заполните поле", запись в БД не появляется

Вариант 11 "Покупка тура по карте с истекшим сроком годности"

Шаги:
1. Ввести валидный номер карты
2. Ввести прошлый месяц
3. Ввести текуший год
4. Ввести валидного владельца
5. Ввести валидный cvv

Ожидаемый результат: Оплата отклонена, банк не одобрил операцию.
Появилось уведомление с текстом "Ошибка! Банк отказал в проведении операции".
В БД появилась запись со статусом DECLINED

# Инструменты тестирования

* IntelliJ IDEA - среда разработки для проведения автотестов
* Java 11 - язык программирования для написания тестов
* Github - cистема контроля версий для фиксации изменений по проекту, среда для хранения проекта
* Gradle - система сборки тестов для оптимизации работы с кодом
* Docker - платформа для запуска приложений в отдельных контейнерах, которая позволяет минимизировать риски при тестировании приложения
* JavaFaker - плагин для генерации тестовых данных 

# Возможные риски

1. Можно получить некорректные данные через JavaFaker, которые повлияют на результаты тестирования
2. При условии, что приложение тестовое, большое количество багов может увеличить время тестирования
3. Могут возникнуть сложности при запуске приложения, настройке СУБД
4. Для симуляции банковских сервисов используется новый инструмент Node.js, который раньше не использовался

# Оценка трудозатрат на тестирование с учетом рисков

1. Настройка СУБД, запуск приложения - 10 часов
2. Написание кода, тестов - 20 часов
3. Прогон тестов - 5 часов
4. Оформление репортов - 5 часов
5. Подготовка отчетов по тестированию - 10 часов

# План сдачи работ

1. Планирование тестирования - дедлайн 12.01.2022
2. Подготовка к тестированию - дедлайн 19.01.2022
3. Разработка и прогон тестов - дедлайн 26.01.2022
4. Подготовка отчетов, репортов - 31.01.2022

